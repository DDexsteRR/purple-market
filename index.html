<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PURPLE LABEL | BYN & USD</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: #0a0a0a;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(147, 51, 234, 0.2) 0%, transparent 30%),
                radial-gradient(circle at 80% 70%, rgba(147, 51, 234, 0.2) 0%, transparent 30%),
                radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.1) 0%, transparent 50%);
            color: white;
            padding: 16px;
            min-height: 100vh;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        /* –ì–õ–ê–í–ù–´–ï –≠–§–§–ï–ö–¢–´ */
        .glass {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(147, 51, 234, 0.4);
            box-shadow: 
                0 20px 40px -15px rgba(147, 51, 234, 0.5),
                0 0 0 1px rgba(147, 51, 234, 0.2) inset,
                0 0 40px rgba(147, 51, 234, 0.3);
        }

        .purple-glow {
            text-shadow: 0 0 20px #9333ea, 0 0 40px rgba(147, 51, 234, 0.6);
        }

        .byn-glow {
            text-shadow: 0 0 20px #fbbf24, 0 0 40px rgba(251, 191, 36, 0.4);
        }

        .usd-glow {
            text-shadow: 0 0 20px #4ade80, 0 0 40px rgba(74, 222, 128, 0.4);
        }

        /* –®–ê–ü–ö–ê */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding: 14px 22px;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(147, 51, 234, 0.6);
            border-radius: 40px;
            box-shadow: 0 15px 40px rgba(147, 51, 234, 0.3);
        }

        .header h1 {
            font-size: 26px;
            font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, #9333ea 80%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 40px rgba(147, 51, 234, 0.8);
            letter-spacing: 1.5px;
        }

        .back-btn {
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 1px solid #9333ea;
            color: white;
            font-size: 15px;
            font-weight: 700;
            padding: 8px 22px;
            border-radius: 40px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(147, 51, 234, 0.5);
            transition: all 0.3s;
        }

        .back-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px #9333ea;
        }

        .badge {
            background: linear-gradient(145deg, #9333ea, #7e22ce);
            color: white;
            padding: 6px 20px;
            border-radius: 40px;
            font-size: 14px;
            font-weight: 700;
            box-shadow: 0 0 30px rgba(147, 51, 234, 0.9);
            border: 1px solid rgba(255,255,255,0.3);
        }

        /* –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ */
        .user-card {
            padding: 18px 22px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(20, 20, 20, 0.85);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(147, 51, 234, 0.6);
            border-radius: 40px;
            box-shadow: 0 15px 40px rgba(147, 51, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .user-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(147,51,234,0.2) 0%, transparent 70%);
            animation: rotate 15s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .user-name {
            font-size: 18px;
            font-weight: 700;
            background: linear-gradient(135deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            z-index: 2;
        }

        .role-tag {
            background: linear-gradient(145deg, #9333ea, #7e22ce);
            color: white;
            padding: 8px 22px;
            border-radius: 40px;
            font-size: 14px;
            font-weight: 700;
            box-shadow: 0 0 30px #9333ea;
            border: 1px solid rgba(255,255,255,0.3);
            position: relative;
            z-index: 2;
        }

        .role-tag.viewer {
            background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
            border: 1px solid #9333ea;
            box-shadow: 0 0 25px rgba(147,51,234,0.4);
        }

        /* –ö–û–†–ó–ò–ù–ê */
        .cart-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 14px 28px;
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 2px solid #9333ea;
            border-radius: 50px;
            color: white;
            margin-left: auto;
            margin-bottom: 20px;
            width: fit-content;
            cursor: pointer;
            box-shadow: 0 10px 35px rgba(147, 51, 234, 0.6);
            transition: all 0.3s;
            font-size: 18px;
            font-weight: 700;
        }

        .cart-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 20px 50px #9333ea;
        }

        .cart-count {
            background: #9333ea;
            padding: 4px 16px;
            border-radius: 40px;
            font-size: 16px;
            box-shadow: 0 0 25px rgba(147,51,234,0.9);
        }

        /* –ú–ï–ù–Æ */
        .menu {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .menu-btn {
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 2px solid #9333ea;
            border-radius: 40px;
            padding: 24px 28px;
            font-size: 24px;
            font-weight: 800;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            box-shadow: 0 15px 40px rgba(147, 51, 234, 0.5);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .menu-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(147,51,234,0.5), transparent);
            transition: left 0.6s;
        }

        .menu-btn:hover::before {
            left: 100%;
        }

        .menu-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 30px 60px #9333ea;
            background: linear-gradient(145deg, #9333ea, #7e22ce);
            border-color: white;
        }

        .menu-btn.small {
            padding: 20px 28px;
            font-size: 22px;
            border-color: #4a4a4a;
        }

        .menu-btn.small:hover {
            border-color: white;
        }

        /* –¢–û–í–ê–†–´ */
        .product {
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(147, 51, 234, 0.7);
            border-radius: 45px;
            padding: 24px;
            margin-bottom: 22px;
            box-shadow: 0 20px 50px rgba(147, 51, 234, 0.5);
            transition: all 0.3s;
        }

        .product:hover {
            transform: translateY(-5px);
            box-shadow: 0 35px 70px #9333ea;
            border-color: white;
        }

        .product-title {
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #fff, #e0e0e0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .product-info {
            color: #c0c0c0;
            font-size: 16px;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
        }

        .prices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0,0,0,0.6);
            border-radius: 35px;
            border: 1px solid rgba(147,51,234,0.4);
        }

        .price-item {
            text-align: center;
            padding: 10px;
        }

        .price-item:first-child {
            border-right: 1px solid rgba(147,51,234,0.3);
        }

        .price-currency {
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 8px;
        }

        .price-value {
            font-size: 32px;
            font-weight: 900;
        }

        .byn { 
            color: #fbbf24; 
            text-shadow: 0 0 20px rgba(251,191,36,0.8);
        }
        .usd { 
            color: #4ade80; 
            text-shadow: 0 0 20px rgba(74,222,128,0.8);
        }

        .add-btn {
            background: linear-gradient(145deg, #9333ea, #7e22ce);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 18px;
            width: 100%;
            font-size: 20px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 10px 35px rgba(147,51,234,0.7);
            transition: all 0.3s;
            letter-spacing: 1px;
        }

        .add-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 20px 50px #9333ea;
        }

        .delete-btn {
            background: linear-gradient(145deg, #dc2626, #b91c1c);
            color: white;
            border: none;
            border-radius: 40px;
            padding: 14px;
            width: 100%;
            margin-top: 14px;
            cursor: pointer;
            box-shadow: 0 5px 25px rgba(220,38,38,0.6);
            font-weight: 700;
            font-size: 16px;
            transition: all 0.3s;
        }

        .delete-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 35px #dc2626;
        }

        /* –§–û–†–ú–´ */
        .input, .textarea, .select {
            width: 100%;
            padding: 18px 24px;
            background: rgba(20, 20, 20, 0.95);
            border: 2px solid rgba(147, 51, 234, 0.5);
            border-radius: 45px;
            color: white;
            font-size: 16px;
            margin: 5px 0 20px 0;
            box-shadow: 0 5px 25px rgba(147,51,234,0.3);
            transition: all 0.3s;
        }

        .input:focus, .textarea:focus, .select:focus {
            border-color: #9333ea;
            box-shadow: 0 0 40px rgba(147,51,234,0.7);
            outline: none;
        }

        /* –ö–û–†–ó–ò–ù–ê */
        .cart-item {
            background: rgba(20, 20, 20, 0.95);
            border: 2px solid rgba(147, 51, 234, 0.6);
            border-radius: 35px;
            padding: 20px;
            margin-bottom: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 35px rgba(147,51,234,0.4);
        }

        .cart-total {
            background: linear-gradient(145deg, rgba(147,51,234,0.3), rgba(147,51,234,0.1));
            border: 2px solid #9333ea;
            border-radius: 45px;
            padding: 25px;
            text-align: center;
            margin: 25px 0;
            box-shadow: 0 15px 45px rgba(147,51,234,0.5);
        }

        .cart-total-price {
            font-size: 48px;
            font-weight: 900;
            color: #9333ea;
            text-shadow: 0 0 40px rgba(147,51,234,0.9);
        }

        /* –í–ê–õ–Æ–¢–´ - BYN –ò USD */
        .currency-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .currency-item {
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 2px solid #2d2d2d;
            border-radius: 35px;
            padding: 18px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 24px;
            font-weight: 800;
        }

        .currency-item.active {
            border-color: #9333ea;
            background: rgba(147,51,234,0.2);
            box-shadow: 0 0 40px rgba(147,51,234,0.8);
            transform: scale(1.05);
        }

        .currency-item[data-curr="BYN"].active {
            border-color: #fbbf24;
            box-shadow: 0 0 40px rgba(251,191,36,0.6);
        }

        .currency-item[data-curr="USD"].active {
            border-color: #4ade80;
            box-shadow: 0 0 40px rgba(74,222,128,0.6);
        }

        /* –û–ü–õ–ê–¢–ê */
        .payment-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }

        .payment-item {
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 2px solid #2d2d2d;
            border-radius: 40px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 20px;
            font-weight: 700;
        }

        .payment-item.active {
            border-color: #9333ea;
            background: rgba(147,51,234,0.2);
            box-shadow: 0 0 40px rgba(147,51,234,0.7);
        }

        /* –ö–û–ù–¢–ê–ö–¢–´ */
        .contacts {
            background: rgba(20, 20, 20, 0.95);
            border: 2px solid #9333ea;
            border-radius: 45px;
            padding: 24px;
            margin: 25px 0;
            box-shadow: 0 15px 45px rgba(147,51,234,0.4);
        }

        .contact-row {
            display: flex;
            align-items: center;
            gap: 15px;
            color: #f0f0f0;
            margin-bottom: 15px;
            font-size: 18px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(147,51,234,0.3);
        }

        /* –ó–ê–Ø–í–ö–ò */
        .request-card {
            background: rgba(20, 20, 20, 0.95);
            border: 2px solid #9333ea;
            border-radius: 45px;
            padding: 24px;
            margin-bottom: 18px;
            box-shadow: 0 15px 40px rgba(147,51,234,0.4);
        }

        .empty {
            text-align: center;
            padding: 70px 30px;
            color: #a0a0a0;
            border: 2px dashed #9333ea;
            border-radius: 50px;
            font-size: 22px;
            background: rgba(20,20,20,0.6);
            box-shadow: 0 0 40px rgba(147,51,234,0.3);
        }

        .message {
            background: linear-gradient(145deg, rgba(147,51,234,0.4), rgba(147,51,234,0.2));
            border: 2px solid #9333ea;
            color: white;
            padding: 16px;
            border-radius: 50px;
            margin-bottom: 20px;
            display: none;
            text-align: center;
            font-size: 18px;
            font-weight: 700;
            box-shadow: 0 10px 35px rgba(147,51,234,0.6);
            backdrop-filter: blur(10px);
        }

        .submit-btn {
            background: linear-gradient(145deg, #9333ea, #7e22ce);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 20px;
            width: 100%;
            font-size: 22px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 15px 45px rgba(147,51,234,0.8);
            transition: all 0.3s;
            letter-spacing: 1.5px;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 30px 65px #9333ea;
        }

        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes pulse {
            0% { box-shadow: 0 0 25px rgba(147,51,234,0.6); }
            50% { box-shadow: 0 0 60px rgba(147,51,234,0.9); }
            100% { box-shadow: 0 0 25px rgba(147,51,234,0.6); }
        }

        .pulse {
            animation: pulse 2.5s infinite;
        }

        .page {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <div class="header pulse">
            <button class="back-btn" id="backBtn" style="display: none;">‚Üê –ù–ê–ó–ê–î</button>
            <h1 id="pageTitle" class="purple-glow">PURPLE LABEL</h1>
            <span class="badge" id="userBadge">...</span>
        </div>

        <!-- –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ -->
        <div class="user-card">
            <span class="user-name" id="displayName">–ó–ê–ì–†–£–ó–ö–ê...</span>
            <span id="roleBadge"></span>
        </div>

        <!-- –°–û–û–ë–©–ï–ù–ò–Ø -->
        <div class="message" id="messageBox"></div>

        <!-- –ö–û–†–ó–ò–ù–ê -->
        <div class="cart-button" id="cartBtn">
            <span>üõí –ö–û–†–ó–ò–ù–ê</span>
            <span class="cart-count" id="cartCount">0</span>
        </div>

        <!-- –ì–õ–ê–í–ù–ê–Ø -->
        <div id="pageMain" class="page active">
            <div class="menu">
                <button class="menu-btn" id="btnStock">üì¶ –í–ò–¢–†–ò–ù–ê ‚Üí</button>
                <button class="menu-btn" id="btnMyProduct">üëï –°–í–û–ô –¢–û–í–ê–† ‚Üí</button>
                <button class="menu-btn admin-only" id="btnChats" style="display: none;">üí¨ –ó–ê–Ø–í–ö–ò ‚Üí</button>
                <button class="menu-btn small" id="btnReport">‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê ‚Üí</button>
            </div>
        </div>

        <!-- –í–ò–¢–†–ò–ù–ê -->
        <div id="pageStock" class="page">
            <!-- –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ -->
            <div id="adminPanel" style="display: none;">
                <h3 style="color:#9333ea; font-size:26px; margin:25px 0; text-shadow:0 0 30px #9333ea;">‚ûï –î–û–ë–ê–í–ò–¢–¨ –¢–û–í–ê–†</h3>
                <input type="text" class="input" id="productName" placeholder="–ù–ê–ó–í–ê–ù–ò–ï –¢–û–í–ê–†–ê">
                <input type="text" class="input" id="productCategory" placeholder="–ö–ê–¢–ï–ì–û–†–ò–Ø">
                <input type="text" class="input" id="productSizes" placeholder="–†–ê–ó–ú–ï–†–´">
                
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; margin:20px 0;">
                    <input type="number" class="input" id="priceBYN" placeholder="–¶–ï–ù–ê BYN" style="border-color:#fbbf24;">
                    <input type="number" class="input" id="priceUSD" placeholder="–¶–ï–ù–ê USD" style="border-color:#4ade80;">
                </div>

                <button class="submit-btn" id="addProductBtn">‚ûï –î–û–ë–ê–í–ò–¢–¨</button>
                <hr style="border:1px solid #9333ea; margin:35px 0; box-shadow:0 0 30px #9333ea;">
            </div>

            <h3 style="color:#9333ea; font-size:26px; margin:20px 0; text-shadow:0 0 30px #9333ea;">üìã –¢–û–í–ê–†–´</h3>
            <div id="productsList"></div>
        </div>

        <!-- –ö–û–†–ó–ò–ù–ê -->
        <div id="pageCart" class="page">
            <h3 style="color:#9333ea; font-size:30px; margin:20px 0; text-shadow:0 0 40px #9333ea;">üõí –ö–û–†–ó–ò–ù–ê</h3>
            <div id="cartItems"></div>
            <div id="cartEmpty" class="empty" style="display:none;">–ö–û–†–ó–ò–ù–ê –ü–£–°–¢–ê</div>

            <div id="checkoutBlock" style="display:none;">
                <div class="cart-total">
                    <div style="color:#a0a0a0; font-size:18px; margin-bottom:8px;">–ò–¢–û–ì–û</div>
                    <div class="cart-total-price" id="cartTotal">0</div>
                    <div style="color:#9333ea; font-size:22px; margin-top:8px;" id="cartCurrency">BYN</div>
                </div>

                <!-- –í–ê–õ–Æ–¢–ê - BYN –ò USD -->
                <div class="currency-grid" id="currencySelector">
                    <div class="currency-item active" data-curr="BYN" style="border-color:#fbbf24;">üáßüáæ BYN</div>
                    <div class="currency-item" data-curr="USD" style="border-color:#4ade80;">üá∫üá∏ USD</div>
                </div>

                <!-- –û–ü–õ–ê–¢–ê -->
                <div class="payment-grid">
                    <div class="payment-item active" id="payCash">üíµ –ù–ê–õ–ò–ß–ù–´–ï</div>
                    <div class="payment-item" id="payCard">üí≥ –ö–ê–†–¢–ê</div>
                </div>

                <!-- –ö–û–ù–¢–ê–ö–¢–´ -->
                <input type="text" class="input" id="orderContact" placeholder="–í–ê–® @USERNAME">
                <textarea class="textarea" id="orderAddress" placeholder="–ê–î–†–ï–° / –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô" rows="2"></textarea>

                <!-- –°–í–Ø–ó–¨ -->
                <div class="contacts">
                    <div style="color:#9333ea; font-size:24px; margin-bottom:18px; text-shadow:0 0 20px #9333ea;">üìû –°–í–Ø–ó–¨ –° –ù–ê–ú–ò</div>
                    <div class="contact-row">üì± @purple_label_support</div>
                    <div class="contact-row">üí¨ @dex_s_ter / @AR1TIG</div>
                    <div class="contact-row">‚è∞ –û–¢–í–ï–¢ 5-10 –ú–ò–ù</div>
                </div>

                <button class="submit-btn" id="checkoutBtn">‚úÖ –û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó</button>
            </div>
        </div>

        <!-- –°–í–û–ô –¢–û–í–ê–† -->
        <div id="pageMyProduct" class="page">
            <h3 style="color:#9333ea; font-size:30px; margin:20px 0; text-shadow:0 0 40px #9333ea;">üëï –°–í–û–ô –¢–û–í–ê–†</h3>
            <input type="text" class="input" id="prodTitle" placeholder="–ù–ê–ó–í–ê–ù–ò–ï –¢–û–í–ê–†–ê">
            <input type="text" class="input" id="prodCategory" placeholder="–ö–ê–¢–ï–ì–û–†–ò–Ø">
            <input type="text" class="input" id="prodContact" placeholder="–í–ê–® @USERNAME">
            <textarea class="textarea" id="prodComment" placeholder="–û–ü–ò–°–ê–ù–ò–ï, –†–ê–ó–ú–ï–†–´" rows="3"></textarea>
            <button class="submit-btn" id="sendProductBtn">üì§ –û–¢–ü–†–ê–í–ò–¢–¨</button>
        </div>

        <!-- –ü–†–û–ë–õ–ï–ú–ê -->
        <div id="pageReport" class="page">
            <h3 style="color:#9333ea; font-size:30px; margin:20px 0; text-shadow:0 0 40px #9333ea;">‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê</h3>
            <select class="select" id="reportTopic">
                <option>–û–®–ò–ë–ö–ê –í –ü–†–ò–õ–û–ñ–ï–ù–ò–ò</option>
                <option>–ü–†–û–ë–õ–ï–ú–ê –° –ó–ê–ö–ê–ó–û–ú</option>
                <option>–í–û–ü–†–û–° –ü–û –û–ü–õ–ê–¢–ï</option>
                <option>–î–†–£–ì–û–ï</option>
            </select>
            <textarea class="textarea" id="reportText" placeholder="–û–ü–ò–®–ò–¢–ï –ü–†–û–ë–õ–ï–ú–£" rows="3"></textarea>
            <input type="text" class="input" id="reportContact" placeholder="–í–ê–® @USERNAME">
            <button class="submit-btn" id="sendReportBtn">üì§ –û–¢–ü–†–ê–í–ò–¢–¨</button>
        </div>

        <!-- –ó–ê–Ø–í–ö–ò (–ê–î–ú–ò–ù–´) -->
        <div id="pageChats" class="page">
            <h3 style="color:#9333ea; font-size:30px; margin:20px 0; text-shadow:0 0 40px #9333ea;">üí¨ –ó–ê–Ø–í–ö–ò</h3>
            <div id="requestsList"></div>
        </div>
    </div>

    <script>
        // ============ –ù–ê–°–¢–†–û–ô–ö–ò ============
        const ADMINS = ['dex_s_ter', 'AR1TIG'];
        const APP = 'PURPLE LABEL';
        
        // ============ TELEGRAM ============
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();

        // ============ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ ============
        const user = tg.initDataUnsafe?.user;
        const username = user?.username?.toLowerCase() || '';
        const firstName = user?.first_name || 'USER';
        const isAdmin = ADMINS.includes(username);

        // ============ –î–ê–ù–ù–´–ï ============
        let products = JSON.parse(localStorage.getItem('products')) || [
            { 
                id: 1, 
                name: 'NIKE AIR FORCE 1', 
                category: '–ö–†–û–°–°–û–í–ö–ò', 
                sizes: '40-45',
                prices: { byn: 2200, usd: 110 }
            },
            { 
                id: 2, 
                name: 'ESSENTIALS FOG', 
                category: '–•–£–î–ò', 
                sizes: 'S-L',
                prices: { byn: 1850, usd: 95 }
            },
            { 
                id: 3, 
                name: 'ADIDAS CAMPUS', 
                category: '–ö–†–û–°–°–û–í–ö–ò', 
                sizes: '41-44',
                prices: { byn: 2000, usd: 105 }
            }
        ];

        let requests = JSON.parse(localStorage.getItem('requests')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // ============ –≠–õ–ï–ú–ï–ù–¢–´ ============
        const pages = {
            main: document.getElementById('pageMain'),
            stock: document.getElementById('pageStock'),
            cart: document.getElementById('pageCart'),
            myProduct: document.getElementById('pageMyProduct'),
            report: document.getElementById('pageReport'),
            chats: document.getElementById('pageChats')
        };

        // ============ –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ============
        function initUser() {
            document.getElementById('displayName').textContent = username ? `@${username.toUpperCase()}` : firstName.toUpperCase();
            
            if (isAdmin) {
                document.getElementById('userBadge').textContent = '–ê–î–ú–ò–ù';
                document.getElementById('roleBadge').innerHTML = '<span class="role-tag">üëë –ê–î–ú–ò–ù</span>';
                document.getElementById('btnChats').style.display = 'flex';
                document.getElementById('adminPanel').style.display = 'block';
            } else {
                document.getElementById('userBadge').textContent = '–ü–û–ö–£–ü–ê–¢–ï–õ–¨';
                document.getElementById('roleBadge').innerHTML = '<span class="role-tag viewer">üë§ –ü–û–ö–£–ü–ê–¢–ï–õ–¨</span>';
            }
        }

        // ============ –ù–ê–í–ò–ì–ê–¶–ò–Ø ============
        function showPage(page, title) {
            Object.values(pages).forEach(p => p.classList.remove('active'));
            pages[page].classList.add('active');
            document.getElementById('pageTitle').textContent = title;
            document.getElementById('backBtn').style.display = page === 'main' ? 'none' : 'block';
            
            if (page === 'stock') renderProducts();
            if (page === 'cart') renderCart();
            if (page === 'chats') renderRequests();
        }

        document.getElementById('backBtn').onclick = () => showPage('main', APP);
        document.getElementById('cartBtn').onclick = () => showPage('cart', '–ö–û–†–ó–ò–ù–ê');

        // –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é
        document.getElementById('btnStock').onclick = () => showPage('stock', '–í–ò–¢–†–ò–ù–ê');
        document.getElementById('btnMyProduct').onclick = () => showPage('myProduct', '–°–í–û–ô –¢–û–í–ê–†');
        document.getElementById('btnReport').onclick = () => showPage('report', '–ü–†–û–ë–õ–ï–ú–ê');
        document.getElementById('btnChats').onclick = () => { if (isAdmin) showPage('chats', '–ó–ê–Ø–í–ö–ò'); };

        // ============ –¢–û–í–ê–†–´ ============
        function renderProducts() {
            const container = document.getElementById('productsList');
            if (!products.length) {
                container.innerHTML = '<div class="empty">–ù–ï–¢ –¢–û–í–ê–†–û–í</div>';
                return;
            }

            let html = '';
            products.forEach(p => {
                html += `
                    <div class="product">
                        <div class="product-title">${p.name}</div>
                        <div class="product-info">${p.category} ‚Ä¢ ${p.sizes}</div>
                        <div class="prices">
                            <div class="price-item">
                                <div class="price-currency byn-glow">üáßüáæ BYN</div>
                                <div class="price-value byn">${p.prices.byn}</div>
                            </div>
                            <div class="price-item">
                                <div class="price-currency usd-glow">üá∫üá∏ USD</div>
                                <div class="price-value usd">${p.prices.usd}</div>
                            </div>
                        </div>
                        <button class="add-btn" onclick="addToCart(${p.id})">üõí –í –ö–û–†–ó–ò–ù–£</button>
                        ${isAdmin ? `<button class="delete-btn" onclick="deleteProduct(${p.id})">üóë –£–î–ê–õ–ò–¢–¨</button>` : ''}
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        window.addToCart = function(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            const existing = cart.find(item => item.id === id);
            if (existing) {
                existing.qty += 1;
            } else {
                cart.push({ id: id, qty: 1 });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showMessage('‚úÖ –¢–û–í–ê–† –î–û–ë–ê–í–õ–ï–ù');
        };

        window.deleteProduct = function(id) {
            if (!isAdmin) return;
            products = products.filter(p => p.id !== id);
            localStorage.setItem('products', JSON.stringify(products));
            renderProducts();
            showMessage('‚úÖ –¢–û–í–ê–† –£–î–ê–õ–ï–ù');
        };

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–∞–¥–º–∏–Ω)
        document.getElementById('addProductBtn').onclick = function() {
            if (!isAdmin) return;

            const name = document.getElementById('productName').value;
            if (!name) { tg.showAlert('–í–í–ï–î–ò–¢–ï –ù–ê–ó–í–ê–ù–ò–ï'); return; }

            const newProduct = {
                id: Date.now(),
                name: name,
                category: document.getElementById('productCategory').value || '–ë–ï–ó –ö–ê–¢–ï–ì–û–†–ò–ò',
                sizes: document.getElementById('productSizes').value || '–í–°–ï –†–ê–ó–ú–ï–†–´',
                prices: {
                    byn: parseInt(document.getElementById('priceBYN').value) || 0,
                    usd: parseInt(document.getElementById('priceUSD').value) || 0
                }
            };

            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            // –û—á–∏—Å—Ç–∫–∞
            ['productName','productCategory','productSizes','priceBYN','priceUSD']
                .forEach(id => document.getElementById(id).value = '');
            
            renderProducts();
            showMessage('‚úÖ –¢–û–í–ê–† –î–û–ë–ê–í–õ–ï–ù');
        };

        // ============ –ö–û–†–ó–ò–ù–ê ============
        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.qty, 0);
            document.getElementById('cartCount').textContent = count;
        }

        function renderCart() {
            const container = document.getElementById('cartItems');
            const empty = document.getElementById('cartEmpty');
            const checkout = document.getElementById('checkoutBlock');
            
            if (!cart.length) {
                container.innerHTML = '';
                empty.style.display = 'block';
                checkout.style.display = 'none';
                return;
            }

            empty.style.display = 'none';
            checkout.style.display = 'block';

            let html = '';
            let total = 0;
            const curr = document.querySelector('#currencySelector .active')?.dataset.curr || 'BYN';

            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (!product) return;
                
                const price = curr === 'BYN' ? product.prices.byn : product.prices.usd;
                total += price * item.qty;

                html += `
                    <div class="cart-item">
                        <div>
                            <div style="font-weight:800; font-size:18px;">${product.name}</div>
                            <div style="color:#9333ea; font-size:20px; font-weight:700; margin-top:5px;">${price} ${curr} x ${item.qty}</div>
                        </div>
                        <button class="delete-btn" onclick="removeFromCart(${item.id})" style="width:auto; padding:10px 20px; margin:0;">‚úï</button>
                    </div>
                `;
            });

            container.innerHTML = html;
            document.getElementById('cartTotal').textContent = total;
            document.getElementById('cartCurrency').textContent = curr;
        }

        window.removeFromCart = function(id) {
            cart = cart.filter(item => item.id !== id);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            renderCart();
        };

        // –í—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã
        document.querySelectorAll('#currencySelector .currency-item').forEach(el => {
            el.onclick = function() {
                document.querySelectorAll('#currencySelector .currency-item').forEach(e => e.classList.remove('active'));
                this.classList.add('active');
                renderCart();
            };
        });

        // –í—ã–±–æ—Ä –æ–ø–ª–∞—Ç—ã
        document.getElementById('payCash').onclick = function() {
            document.getElementById('payCash').classList.add('active');
            document.getElementById('payCard').classList.remove('active');
        };
        document.getElementById('payCard').onclick = function() {
            document.getElementById('payCard').classList.add('active');
            document.getElementById('payCash').classList.remove('active');
        };

        // –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        document.getElementById('checkoutBtn').onclick = function() {
            if (!cart.length) { tg.showAlert('–ö–û–†–ó–ò–ù–ê –ü–£–°–¢–ê'); return; }

            const curr = document.querySelector('#currencySelector .active').dataset.curr;
            const payment = document.querySelector('.payment-item.active').id === 'payCash' ? '–ù–ê–õ–ò–ß–ù–´–ï' : '–ö–ê–†–¢–ê';
            const contact = document.getElementById('orderContact').value;
            
            if (!contact) { tg.showAlert('–£–ö–ê–ñ–ò–¢–ï –ö–û–ù–¢–ê–ö–¢'); return; }

            let items = [];
            let total = 0;
            
            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                const price = curr === 'BYN' ? product.prices.byn : product.prices.usd;
                total += price * item.qty;
                items.push(`${product.name} x${item.qty} = ${price * item.qty} ${curr}`);
            });

            const order = {
                id: Date.now(),
                type: 'order',
                user: username || firstName,
                items: items,
                total: total,
                currency: curr,
                payment: payment,
                contact: contact,
                address: document.getElementById('orderAddress').value || '–ù–ï –£–ö–ê–ó–ê–ù',
                date: new Date().toLocaleString()
            };

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞—è–≤–∫—É
            requests.unshift(order);
            localStorage.setItem('requests', JSON.stringify(requests));

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –±–æ—Ç–∞
            tg.sendData(JSON.stringify({ action: 'new_order', order: order }));

            // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            
            showMessage('‚úÖ –ó–ê–ö–ê–ó –û–§–û–†–ú–õ–ï–ù!');
            setTimeout(() => showPage('main', APP), 1500);
        };

        // ============ –ó–ê–Ø–í–ö–ò –ù–ê –¢–û–í–ê–† ============
        document.getElementById('sendProductBtn').onclick = function() {
            const title = document.getElementById('prodTitle').value;
            if (!title) { tg.showAlert('–í–í–ï–î–ò–¢–ï –ù–ê–ó–í–ê–ù–ò–ï'); return; }

            const request = {
                id: Date.now(),
                type: 'product',
                user: username || firstName,
                title: title,
                category: document.getElementById('prodCategory').value || '–ë–ï–ó –ö–ê–¢–ï–ì–û–†–ò–ò',
                contact: document.getElementById('prodContact').value || username || firstName,
                comment: document.getElementById('prodComment').value || '–ë–ï–ó –ö–û–ú–ú–ï–ù–¢–ê–†–ò–Ø',
                date: new Date().toLocaleString()
            };

            requests.unshift(request);
            localStorage.setItem('requests', JSON.stringify(requests));
            
            // –û—á–∏—Å—Ç–∫–∞
            ['prodTitle','prodCategory','prodContact','prodComment'].forEach(id => 
                document.getElementById(id).value = ''
            );
            
            showMessage('‚úÖ –ó–ê–Ø–í–ö–ê –û–¢–ü–†–ê–í–õ–ï–ù–ê');
            tg.sendData(JSON.stringify({ action: 'new_request', request: request }));
        };

        // ============ –ü–†–û–ë–õ–ï–ú–´ ============
        document.getElementById('sendReportBtn').onclick = function() {
            const text = document.getElementById('reportText').value;
            if (!text) { tg.showAlert('–û–ü–ò–®–ò–¢–ï –ü–†–û–ë–õ–ï–ú–£'); return; }

            const report = {
                id: Date.now(),
                type: 'report',
                user: username || firstName,
                topic: document.getElementById('reportTopic').value,
                text: text,
                contact: document.getElementById('reportContact').value || username || firstName,
                date: new Date().toLocaleString()
            };

            requests.unshift(report);
            localStorage.setItem('requests', JSON.stringify(requests));
            
            document.getElementById('reportText').value = '';
            document.getElementById('reportContact').value = '';
            
            showMessage('‚úÖ –û–¢–ü–†–ê–í–õ–ï–ù–û');
            tg.sendData(JSON.stringify({ action: 'new_report', report: report }));
        };

        // ============ –ó–ê–Ø–í–ö–ò –î–õ–Ø –ê–î–ú–ò–ù–û–í ============
        function renderRequests() {
            const container = document.getElementById('requestsList');
            if (!requests.length) {
                container.innerHTML = '<div class="empty">–ù–ï–¢ –ó–ê–Ø–í–û–ö</div>';
                return;
            }

            let html = '';
            requests.forEach(r => {
                if (r.type === 'order') {
                    html += `
                        <div class="request-card">
                            <div style="display:flex; justify-content:space-between; color:#9333ea; font-size:18px;">
                                <span>üõí –ó–ê–ö–ê–ó</span>
                                <span>${r.user}</span>
                            </div>
                            <div style="margin:15px 0;">${r.items.join('<br>')}</div>
                            <div style="font-size:26px; color:#9333ea; font-weight:900; margin:10px 0;">–ò–¢–û–ì–û: ${r.total} ${r.currency}</div>
                            <div>üí≥ ${r.payment}</div>
                            <div>üìû ${r.contact}</div>
                            <div>üìç ${r.address}</div>
                            <div style="color:#a0a0a0; font-size:12px; margin-top:12px;">${r.date}</div>
                            <button class="delete-btn" onclick="deleteRequest(${r.id})" style="margin-top:15px;">‚úì –û–ë–†–ê–ë–û–¢–ê–ù–û</button>
                        </div>
                    `;
                } else if (r.type === 'report') {
                    html += `
                        <div class="request-card">
                            <div style="display:flex; justify-content:space-between; color:#ef4444; font-size:18px;">
                                <span>‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê</span>
                                <span>${r.user}</span>
                            </div>
                            <div style="font-weight:700; font-size:18px; margin:12px 0;">${r.topic}</div>
                            <div style="margin:10px 0;">${r.text}</div>
                            <div style="margin:10px 0;">üìû ${r.contact}</div>
                            <div style="color:#a0a0a0;">${r.date}</div>
                            <button class="delete-btn" onclick="deleteRequest(${r.id})" style="margin-top:15px;">‚úì –û–ë–†–ê–ë–û–¢–ê–ù–û</button>
                        </div>
                    `;
                } else {
                    html += `
                        <div class="request-card">
                            <div style="display:flex; justify-content:space-between; color:#9333ea; font-size:18px;">
                                <span>üëï –¢–û–í–ê–†</span>
                                <span>${r.user}</span>
                            </div>
                            <div style="font-weight:700; font-size:20px; margin:12px 0;">${r.title}</div>
                            <div>${r.category}</div>
                            <div style="margin:10px 0;">üí¨ ${r.comment}</div>
                            <div>üìû ${r.contact}</div>
                            <div style="color:#a0a0a0; margin-top:10px;">${r.date}</div>
                            <button class="delete-btn" onclick="deleteRequest(${r.id})" style="margin-top:15px;">‚úì –û–ë–†–ê–ë–û–¢–ê–ù–û</button>
                        </div>
                    `;
                }
            });
            container.innerHTML = html;
        }

        window.deleteRequest = function(id) {
            if (!isAdmin) return;
            requests = requests.filter(r => r.id !== id);
            localStorage.setItem('requests', JSON.stringify(requests));
            renderRequests();
            showMessage('‚úÖ –û–ë–†–ê–ë–û–¢–ê–ù–û');
        };

        // ============ –°–û–û–ë–©–ï–ù–ò–Ø ============
        function showMessage(text) {
            const msg = document.getElementById('messageBox');
            msg.textContent = text;
            msg.style.display = 'block';
            setTimeout(() => msg.style.display = 'none', 2000);
        }

        // ============ –ó–ê–ü–£–°–ö ============
        initUser();
        showPage('main', APP);
        updateCartCount();
    </script>
</body>
</html>
